extends layout.pug

block content
	h1 #{post.subreddit.name}
	p Post Title: #{post.title}
	p Post URL: 
		a(href=post.url, target="_blank")= post.url
	p Created At: #{post.createdAt}
	p Updated At: #{post.updatedAt}
	p Post created by: #{post.user.username}
	p Vote score: #{post.voteScore}
	p Make a comment:
	form(action="/createComment" method="POST")
		input(type='hidden' name='commentPostId' value=post.id)
		textarea(type='text' name='commentText' placeholder='Write your comment here!')
		button(type='submit' name='commentButton') Comment
	ul.comment-list
		each comment in comments
			li.comment
				h3 #{comment.text}
				h3 by: #{comment.user.username}
				p Score: #{comment.voteScore} Upvotes: #{comment.numUpvotes} Downvotes: #{comment.numDownvotes}
				form(action='/vote' method='POST')
					input(type="hidden" name="commentId" value= comment.id) 
					button(type="submit" name="vote" value=1) upvote this
					button(type="submit" name="vote" value=-1) downvote this




	

